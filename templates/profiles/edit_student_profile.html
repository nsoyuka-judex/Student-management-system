{% extends 'base.html' %}
{% block title %}Edit Student Profile{% endblock %}

{% block content %}
<div class="row justify-content-center mt-4">
  <div class="col-md-8">
    <div class="card p-4 shadow-sm">
      <h4 class="mb-3">Edit Your Student Profile</h4>

      {% if form.instance.profile_picture %}
        <div class="text-center mb-3">
          <img src="{{ form.instance.profile_picture.url }}" class="rounded-circle" width="120" height="120" alt="Profile Picture">
        </div>
      {% endif %}

      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.full_name.label_tag }} {{ form.full_name }}
        {{ form.age.label_tag }} {{ form.age }}
        {{ form.contact_number.label_tag }} {{ form.contact_number }}
        {{ form.guardian_email.label_tag }} {{ form.guardian_email }}
        {{ form.address.label_tag }} {{ form.address }}
        <div class="row mb-3 align-items-center">
          <div class="col-md-3 fw-bold">Transcript</div>
          <div class="col-md-4">
            {% if form.instance.transcript %}
              <a href="{{ form.instance.transcript.url }}">{{ form.instance.transcript.name }}</a>
            {% else %}None{% endif %}
          </div>
          <div class="col-md-3">{{ form.transcript }}</div>
          <div class="col-md-2">{{ form.transcript.clear_checkbox }}</div>
        </div>
        <div class="row mb-3 align-items-center">
          <div class="col-md-3 fw-bold">ID Proof</div>
          <div class="col-md-4">
            {% if form.instance.id_proof %}
              <a href="{{ form.instance.id_proof.url }}">{{ form.instance.id_proof.name }}</a>
            {% else %}None{% endif %}
          </div>
          <div class="col-md-3">{{ form.id_proof }}</div>
          <div class="col-md-2">{{ form.id_proof.clear_checkbox }}</div>
        </div>
        <div class="row mb-3 align-items-center">
          <div class="col-md-3 fw-bold">Profile Picture</div>
          <div class="col-md-4">
            {% if form.instance.profile_picture %}
              <a href="{{ form.instance.profile_picture.url }}">{{ form.instance.profile_picture.name }}</a>
            {% else %}None{% endif %}
          </div>
          <div class="col-md-3">{{ form.profile_picture }}</div>
          <div class="col-md-2">{{ form.profile_picture.clear_checkbox }}</div>
        </div>
        <button type="submit" class="btn btn-success w-100">Save Changes</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}